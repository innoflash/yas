<ion-header>

  <ion-navbar>
    <ion-title>Edit Story</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-card>
    <ion-card-header>
      Story Details
    </ion-card-header>
    <ion-card-content>
      <ion-list>

        <ion-item>
          <ion-avatar item-start>
            <ion-icon name="paper"></ion-icon>
          </ion-avatar>
          <ion-label stacked>Title</ion-label>
          <ion-input type="text" placeholder="Story title" [(ngModel)]="story.title"></ion-input>
        </ion-item>

        <ion-item>
          <ion-avatar item-start>
            <ion-icon name="paper"></ion-icon>
          </ion-avatar>
          <ion-label stacked>Category</ion-label>
          <ion-input type="text" placeholder="Category" [(ngModel)]="story.category" (focus)="openCats()"></ion-input>
        </ion-item>

        <ion-item hidden>
          <ion-avatar item-start>
            <ion-icon name="paper"></ion-icon>
          </ion-avatar>
          <ion-label stacked>Category</ion-label>
          <select-searchable item-content
                             #portComponent
                             [(ngModel)]="category"
                             [items]="categories"
                             itemValueField="name"
                             itemTextField="name"
                             [noItemsFoundText]="'No category found.'"
                             [searchPlaceholder]="'select story category'"
                             aria-placeholder="'select story category'"
                             (onChange)="portChange($event)"
                             [canSearch]="true">
            <ng-template selectSearchableValueTemplate let-port="value">
              {{ story.category }})
            </ng-template>
          </select-searchable>
        </ion-item>

        <ion-item>
          <ion-avatar item-start>
            <ion-icon name="paper"></ion-icon>
          </ion-avatar>
          <ion-label stacked>Story</ion-label>
          <ion-textarea [(ngModel)]="story.story" placeholder="Enter your story in here ..."
                        rows="6"></ion-textarea>
        </ion-item>

        <ion-item>
          <ion-avatar item-start>
            <ion-icon name="cash"></ion-icon>
          </ion-avatar>
          <ion-label stacked>Pledge Amount (R)</ion-label>
          <ion-input type="number" placeholder="amount you are looking for (Rands)" [(ngModel)]="story.raw_amount"></ion-input>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
  <div padding>
    <button ion-button color="secondary" block (click)="editStory()">EDIT STORY</button>
  </div>
</ion-content>
